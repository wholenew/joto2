{% extends "layout.html" %}

{% block content %}
    <div id ="img_unit">
      <div class="photo">
        <img src="http://192.168.0.103:9000/?action=stream" width="120%" height="120%">

        <div class="inner">
          <a id="left"  href="#"  class="bt"
          onclick="sendCommand('left'); return false;">←</a>
          <a id="forward"  href="#"  class="bt"
          onclick="sendCommand('forward'); return false;">↑</a>
          <a id="back"  href="#"  class="bt"
          onclick="sendCommand('back'); return false;">↓</a>
          <a id="right"  href="#"  class="bt"
          onclick="sendCommand('right'); return false;">→</a>
        </div>
      </div>
    </div>
  <script>
    function sendCommand(command, params={}) {
        console.log({action: 'sendCommand', command: command, params: params});
        params['command'] = command;
        $.post("/api/command/", params).done(function (json) {
            console.log({action: 'sendCommand', json: json});
        }, 'json')
    }

  </script>

{% endblock %}
